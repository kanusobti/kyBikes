(this.webpackJsonpcitybikes=this.webpackJsonpcitybikes||[]).push([[0],{19:function(t,e,a){t.exports=a(44)},24:function(t,e,a){},25:function(t,e,a){},43:function(t,e,a){},44:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=a(17),c=a.n(o),r=(a(24),a(2)),s=a(3),l=a(6),u=a(4),m=a(7),p=(a(25),a(5)),d=a.n(p),y=a(18),f=(a(43),function(t){function e(){var t;return Object(r.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).calculateAvailableBikes=function(e){var a=e.map((function(t){return t.id}));t.getCities(a)},t.getCities=function(e){var a=[],n=0,i=0;e.map((function(e){d()({method:"get",url:"http://api.citybik.es/v2/networks/".concat(e),responseType:"json"}).then((function(e){var o=void 0===e.data.network.location||null===e.data.network.location||"string"===typeof e.data.network.location?"":e.data.network.location.city,c=void 0===e.data.network.company||null===e.data.network.company||"string"===typeof e.data.network.company?["Not Found"]:0===e.data.network.company.length?["Not Found"]:e.data.network.company.map((function(t){return t}));e.data.network.stations.forEach((function(t){n+=t.free_bikes,i+=t.empty_slots}));a.push({city:o,countBikes:n,countAvlSpaces:i,avlPercentage:0===i?0:Math.round(n/i*100),companies:c}),t.setState({cityBikeAvailability:a,selectedCity:a[0].city})}))}))},t.loadCitiesForCountry=function(e){var a=t.state.apiResponse.filter((function(t){return t.location.country===e}));t.setState({defaultCountry:e}),t.calculateAvailableBikes(a)},t.state={cityBikeAvailability:[],selectedCity:"",countryArray:[],apiResponse:[],defaultCountry:""},t}return Object(m.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=[],a=[];d()({method:"get",url:"http://api.citybik.es/v2/networks",responseType:"json",params:{fields:"id,name,location"}}).then((function(n){var i=n.data.networks;e=n.data.networks.map((function(t){return t.location.country})),e=Object(y.a)(new Set(e)),a=n.data.networks.filter((function(t){return t.location.country===e[0]})),t.setState({countryArray:e,defaultCountry:e[0],apiResponse:i}),t.calculateAvailableBikes(a)}))}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"App"},i.a.createElement("header",null,i.a.createElement("div",{className:"headerImage"},i.a.createElement("img",{style:{position:"relative",zIndex:10},src:"https://www.countryflags.io/".concat("UK"===this.state.defaultCountry?"GB":this.state.defaultCountry,"/flat/64.png"),alt:"Flag Image for ".concat(this.state.defaultCountry,"-country")}))),i.a.createElement("div",{className:"main"},i.a.createElement("div",{className:"sideBar"},this.state.countryArray.map((function(e){return i.a.createElement("div",{className:"flags",tabIndex:e},i.a.createElement("img",{style:{position:"relative",zIndex:10},onClick:function(){t.loadCitiesForCountry(e)},src:"https://www.countryflags.io/".concat("UK"===e?"GB":e,"/flat/64.png"),alt:"Flag Image for ".concat(e,"-country")}))}))),i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"cities wrapper"},this.state.cityBikeAvailability.map((function(t){return i.a.createElement("div",{className:"finalContainer"},i.a.createElement("h1",{className:"cityName"},t.city),i.a.createElement("div",{className:"availability"},i.a.createElement("span",{className:"availabilityHeading"},"Availability:"," "),i.a.createElement("span",{style:{color:t.avlPercentage<25?"#CC2936":"#388697",fontSize:50}},t.avlPercentage.isNaN?0:t.avlPercentage," %")),i.a.createElement("div",{className:"companies"},i.a.createElement("span",{className:"companiesHeader"},"Companies:"),i.a.createElement("span",{style:{color:t.avlPercentage<25?"#CC2936":"#388697",textDecoration:"none"}}," ",t.countBikes," Bikes/",t.countAvlSpaces," Spots")),t.companies.map((function(t){return i.a.createElement("h4",null,t)})))}))))))}}]),e}(n.Component)),v=function(t){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(f,null))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.7b4a4d8f.chunk.js.map